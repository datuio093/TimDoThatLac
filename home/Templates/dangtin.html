{% load static %}
<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Home</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
   


         <link rel="stylesheet" type"text/css" href="{% static 'css/dangtin/dangtin.css' %}"> 

         <!-- CSS onlysss -->
         <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
         <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    </head>
    <body>
      <header> 
        <nav class="navbar navbar-expand-lg bg-light">
            <div class="container-fluid">
              <a class="navbar-brand" href="{% url 'home' %}">     <img src="{% static 'image/logo.png' %}" class="logo" alt="..." style="width:30px; height:30px"></a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon">   </span>
              </button>
              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="/home">Trang Chủ</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="/blog">Blog</a>
                  </li>
                  <li class="nav-item dropdown">
              
                    {% if user.is_authenticated %}
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      Xin Chào,  {{ user.first_name }}  {{ user.last_name }} 
                    </a>  
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="/mypost">Trang cá nhân</a></li>
                      <li><a class="dropdown-item" href="/dangtin">Đang bài</a></li>
                      <li><a class="dropdown-item" href="/editaccount">Đổi mật khẩu</a></li>
                  
                    </ul>
                  </li>
                    {% else %}

                  <li class="nav-item">
                    <a class="nav-link" href="/register">Đăng Kí</a>
                  </li>

                  <li class="nav-item">
                    <a class="nav-link" href="/login">Đăng Nhập</a>
                  </li>
                  {% endif %}
                  <li class="nav-item">
               <a href="/dangtin">   <button class="btn btn-outline-dark" type="submit">Đăng Bài</button> </a>    
                  </li>
             
                </ul>
                <form class="d-flex" role="search">
                  <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                  <button class="btn btn-outline-dark" type="submit">Search</button>
                </form>
              </div>
            </div>
          </nav>
          
    </header>   
        <div class="body"> 
          <div class="card_body row justify-content-md-center"> 
            <h3 class="col col-lg-3"> Your listing details </h3>
          </div>
      
          <form>
          <div class="card_body row justify-content-md-center"> 
        
            <div class="card_dt col col-lg-6"> 
          
                <fieldset >
                  <legend> <i class="bi bi-pen"></i> General</legend>
                  <div class="mb-3">
                    <label for="TextInput" class="form-label"> Tiêu đề</label>
                    <input type="text" id="TextInput" class="form-control" placeholder="">
                  </div>
                  <div class="mb-3">
                    <label for="Select" class="form-label">Loại </label>
                    <select id="Select" class="form-select">
                      <option>Đồ Thất Lạc</option>
                      <option>Đồ Nhặt Được</option>
                    
                    </select>
                  </div>
                  <div class="mb-3">
                    <label for="Select" class="form-label">Loại</label>
                    <select id="Select" class="form-select">
                      <option>Ví/Bóp</option>
                      <option>Giấy tờ</option>
                      <option>CCCD/CMND</option>
                      <option>Giấy phép lái xe</option>
                    </select>
                  </div>
                  {% comment %} <div class="mb-3">
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" id="FieldsetCheck" >
                      <label class="form-check-label" for="FieldsetCheck">
                        Can't check this
                      </label>
                    </div>
                  </div> {% endcomment %}
                  <div class="mb-3">
                    <label for="TextInput" class="form-label"> Mô Tả Chi Tiết</label>
                    <textarea style="width:100%; height:200px">   </textarea>
                  </div>
  
              
                </fieldset>
          
             </div>
           
          </div>
          <div class="card_body row justify-content-md-center"> 
            <div class="card_dt col col-lg-6"> 
          
                <fieldset >
                  <legend> <i class="bi bi-geo-alt"></i> Địa Chỉ</legend>
                  <div class="mb-3">
                    <label for="TextInput" class="form-label">Địa Chỉ Rơi</label>
                    <input type="text" id="TextInput" class="form-control" placeholder="Địa chỉ">
                  </div>
                 
                  {% comment %} <div class="mb-3">
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" id="FieldsetCheck" >
                      <label class="form-check-label" for="FieldsetCheck">
                        Can't check this
                      </label>
                    </div>
                  </div> {% endcomment %}
                  {% comment %} <div class="mb-3">
                    <label for="TextInput" class="form-label"> Mô Tả Chi Tiết</label>
                    <textarea style="width:100%">   </textarea>
                  </div> {% endcomment %}
                  <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d7838.684254869503!2d106.70676642475235!3d10.785086936675276!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1svi!2s!4v1547181657956" width="100%" height="450" frameborder="0" style="border:0" allowfullscreen></iframe>
                  <div id="map" style="width:100%"></div>
          
                </fieldset>
          
             </div>
           
          </div>
          <div class="card_body row justify-content-md-center"> 
            <div class="card_dt col col-lg-6"> 
          
                <fieldset >
                  <legend> <i class="bi bi-images"></i> Ảnh</legend>
                  <div class="mb-3">
                    <div class="container imageUploadContainer mb-3">
                      <div>
                          <img class="mb-2" style="width:100%"
                              src="{% static 'image/noiamge.webp' %}" 
                              alt="Ảnh xem trước" 
                              id="imagePreview">
                      </div>
                      <div class="imageUpload mb-3">
                          <input type="file" id="imageUploadInput" accept=".jpg,.png">
                      
                   
                      </div>
                      <div id="uploadFileStatus"></div>
                      <div class="fileInfomation">
                          <p>
                              Tên file: 
                              <span id="fileInfomation_name">----</span>
                          </p>
                          <p>
                              Định dạng: 
                              <span id="fileInfomation_type">----</span>
                          </p>
                          <p>
                              Dung lượng: 
                              <span id="fileInfomation_size">----</span>
                          </p>
                      </div>
                  </div>
                  </div>
                  {% comment %} <div class="mb-3">
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" id="FieldsetCheck" >
                      <label class="form-check-label" for="FieldsetCheck">
                        Can't check this
                      </label>
                    </div>
                  </div> {% endcomment %}
               
  
               
                </fieldset>
          
             </div>
           
          </div>
          <div class="card_body row justify-content-md-center"> 
        
            <div class="card_dt col col-lg-6"> 
          
                <fieldset >
                  <legend> <i class="bi bi-telephone"></i> Thông Tin Liên Hệ</legend>
                  <div class="mb-3">
                    <label for="TextInput" class="form-label"> Họ Tên</label>
                    <input type="text" id="TextInput" class="form-control" placeholder="Họ Tên">
                  </div>
                  <div class="mb-3">
                    <label for="TextInput" class="form-label"> Số Điện Thoại</label>
                    <input type="text" id="TextInput" class="form-control" placeholder=" Số Điện Thoại">
                  </div>
                  <div class="mb-3">
                    <label for="TextInput" class="form-label"> Email</label>
                    <input type="text" id="TextInput" class="form-control" placeholder="Email">
                  </div>
               
            
             
  
                  <button type="submit" class="btn btn-primary">Submit</button>
                </fieldset>
          
             </div>
           
          </div>
          
        </form>
        </div>
        <div class="footer container "> 
          <!-- Footer -->
          <footer class="text-center text-lg-start bg-white text-muted">
            <!-- Section: Social media -->
            <section class="d-flex justify-content-center justify-content-lg-between p-4 border-bottom">
              <!-- Left -->
              <div class="me-5 d-none d-lg-block">
                <span>Get connected with us on social networks:</span>
              </div>
              <!-- Left -->
          
              <!-- Right -->
              <div>
                <a href="" class="me-4 link-secondary">
                  <i class="bi bi-facebook"> </i>
                </a>
                <a href="" class="me-4 link-secondary">
                  <i class="bi bi-twitter"></i>
                </a>
                <a href="" class="me-4 link-secondary">
                  <i class="bi bi-google"></i>
                </a>
                <a href="" class="me-4 link-secondary">
                  <i class="bi bi-instagram"></i>
                </a>
                <a href="" class="me-4 link-secondary">
                  <i class="bi bi-linkedin"></i>
                </a>
                <a href="" class="me-4 link-secondary">
                  <i class="bi bi-github"></i>
                </a>
              </div>
              <!-- Right -->
            </section>
            <!-- Section: Social media -->
          
            <!-- Section: Links  -->
            <section class="">
              <div class="container text-center text-md-start mt-5">
                <!-- Grid row -->
                <div class="row mt-3">
                  <!-- Grid column -->
                  <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
                    <!-- Content -->
                    <h6 class="text-uppercase fw-bold mb-4">
                      <i class="fas fa-gem me-3 text-secondary"></i>Company name
                    </h6>
                    <p>
                      Here you can use rows and columns to organize your footer content. Lorem ipsum
                      dolor sit amet, consectetur adipisicing elit.
                    </p>
                  </div>
                  <!-- Grid column -->
          
                  <!-- Grid column -->
                  <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">
                    <!-- Links -->
                    <h6 class="text-uppercase fw-bold mb-4">
                      Products
                    </h6>
                    <p>
                      <a href="#!" class="text-reset">Angular</a>
                    </p>
                    <p>
                      <a href="#!" class="text-reset">React</a>
                    </p>
                    <p>
                      <a href="#!" class="text-reset">Vue</a>
                    </p>
                    <p>
                      <a href="#!" class="text-reset">Laravel</a>
                    </p>
                  </div>
                  <!-- Grid column -->
          
                  <!-- Grid column -->
                  <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">
                    <!-- Links -->
                    <h6 class="text-uppercase fw-bold mb-4">
                      Useful links
                    </h6>
                    <p>
                      <a href="#!" class="text-reset">Pricing</a>
                    </p>
                    <p>
                      <a href="#!" class="text-reset">Settings</a>
                    </p>
                    <p>
                      <a href="#!" class="text-reset">Orders</a>
                    </p>
                    <p>
                      <a href="#!" class="text-reset">Help</a>
                    </p>
                  </div>
                  <!-- Grid column -->
          
                  <!-- Grid column -->
                  <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
                    <!-- Links -->
                    <h6 class="text-uppercase fw-bold mb-4">Contact</h6>
                    <p><i class="bi bi-house me-3 text-secondary"></i> New York, NY 10012, US</p>
                    <p>
                      <i class="bi bi-envelope me-3 text-secondary"></i>
                      info@example.com
                    </p>
                    <p><i class="bi bi-phone me-3 text-secondary"></i> + 01 234 567 88</p>
                    <p><i class="bi bi-printer me-3 text-secondary"></i> + 01 234 567 89</p>
                  </div>
                  <!-- Grid column -->
                </div>
                <!-- Grid row -->
              </div>
            </section>
            <!-- Section: Links  -->
          
            <!-- Copyright -->
            <div class="text-center p-4" style="background-color: rgba(0, 0, 0, 0.025);">
              © 2022 Copyright:
              <a class="text-reset fw-bold" href="https://mdbootstrap.com/">TimDoThatLac.Nhom14</a>
            </div>
            <!-- Copyright -->
          </footer>
          <!-- Footer -->
                  </div>
                 


        <script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCod5bE1-ane0E1VKtZpuVHDcrRxGecmZY&callback=initMap"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
        <script>
          (function () {
            var imageUpload = function () {
                var self = this;
                this.selector = {
                    fileInput: document.getElementById('imageUploadInput'),
                    fileInputBtn: document.getElementById('imageUploadInputBtn'),
                    imagePreview: document.getElementById('imagePreview'),
                    status: document.getElementById('uploadFileStatus'),
                    sendBtn: document.getElementById('sendData'),
                    infoName: document.getElementById('fileInfomation_name'),
                    infoType: document.getElementById('fileInfomation_type'),
                    infoSize: document.getElementById('fileInfomation_size')
                };
                this.imageData = "";
                this.fileTypes = ['image/png', 'image/jpeg'];
                this.maxSize = 30 * 1024 * 1024; // 30MB
                this.uploadUrl = 'https://tutrithuc.com/TestAPI/imageUpload';
                this.onChangeInput = function (e) {
                    // Reset file data / image preview
                    self.selector.status.innerHTML = '';
                    self.selector.imagePreview.setAttribute('src', "img/default.jpg");
                    self.imageData='';
                    
                    // Get the current file upload
                    var file = e.target.files[0];
                    this.selector.infoName.innerHTML = file.name;
                    this.selector.infoType.innerHTML = file.type;
                    this.selector.infoSize.innerHTML = file.size + " bytes"; // in bytes
        
                    // Validate file type
                    if (this.fileTypes.indexOf(file.type) == -1) {
                        self.selector.status.innerHTML = "File không hợp lệ (chỉ file hình jpg và hình png được chấp nhận)";
                        return;
                    }
                    
                    // Validate file size
                    if (file.size > this.maxSize) {
                        self.selector.status.innerHTML = "Dung lượng file vượt quá giới hạn (tối đa 30MB được chấp nhận)";
                        return;
                    }
        
                    var reader = new FileReader();
                    reader.onload = function (e) {
                        self.imageData = e.target.result;
                        
                        // Validate file content
                        self.selector.imagePreview.onerror = function(){
                            self.imageData = "";
                            self.selector.imagePreview.setAttribute('src', "img/default.jpg");
                            self.selector.status.innerHTML = 'Nội dung hình không hợp lệ';
                        };
                        self.selector.imagePreview.setAttribute('src', self.imageData);
                    };
                    reader.readAsDataURL(file);
                };
                this.sendData = function () {
                    // Validate when file content is empty
                    if (this.imageData == ""){
                        self.selector.status.innerHTML = 'Vui lòng chọn hình để tải lên';
                        return;
                    }
                    
                    // Prevent double click
                    var data = {
                        'imageData': this.imageData
                    };
                    this.imageData = "";
                    
                    var request = new XMLHttpRequest();
                    request.open("POST", this.uploadUrl);
                    request.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');
                    request.onreadystatechange = function () {
                        if (this.readyState === 4 && this.status === 200) {
                            self.selector.status.innerHTML = "Upload thành công";
                        } else {
                            console.log(this.responseText);
                            self.selector.status.innerHTML = "Đã có lỗi xảy ra, không upload được hình";
                        }
                    };
        
                    // Send request to server
                    request.send(JSON.stringify(data));
                };
        
                /*
                 * Event trigger
                 */
                this.selector.fileInput.addEventListener('change', function (e) {
                    self.onChangeInput(e);
                });
                this.selector.fileInputBtn.addEventListener('click', function () {
                    self.selector.fileInput.click();
                });
                this.selector.sendBtn.addEventListener('click', function () {
                    self.sendData();
                });
            };
            window.addEventListener("DOMContentLoaded", function () {
                console.log('DOM is loaded');
                new imageUpload();
            });
        })();
        </script>
      
    </body>
</html>